# 地图网络图分析系统

一个基于C++实现的完整地图网络图分析系统，用于模拟城市间的交通路线和导航功能。

## 🌟 项目特色

- **双图结构支持**: 邻接矩阵和邻接表，支持运行时切换
- **完整用户系统**: 注册、登录、密码管理
- **丰富图算法**: DFS、BFS、Dijkstra最短路径
- **数据持久化**: 自动保存和加载
- **友好界面**: 清晰的文本菜单系统
- **完善测试**: 覆盖各种边界情况

## 📁 项目结构

```
地图网络图分析系统/
├── 核心代码文件
│   ├── City.h/.cpp              # 城市信息类
│   ├── Graph.h/.cpp             # 图基类及实现
│   ├── UserManager.h/.cpp       # 用户管理
│   ├── FileManager.h/.cpp       # 文件管理
│   ├── MapNetwork.h/.cpp        # 地图网络管理
│   ├── MenuSystem.h/.cpp        # 菜单系统
│   └── main.cpp                 # 主程序
├── 测试文件
│   └── TestProgram.cpp          # 完整测试程序
├── 文档
│   ├── README.md                # 项目说明
│   ├── 使用手册.md              # 详细使用指南
│   ├── 实验报告.md              # 实验报告
│   └── 系统架构设计.md          # 系统架构
└── 编译脚本
    └── Makefile                 # 编译配置
```

## 🚀 快速开始

### 编译

#### Linux/MacOS
```bash
# 编译主程序
make

# 运行程序
./MapNetworkSystem
```

#### Windows
```bash
g++ -std=c++11 -Wall -Wextra -O2 -c City.cpp
g++ -std=c++11 -Wall -Wextra -O2 -c Graph.cpp
g++ -std=c++11 -Wall -Wextra -O2 -c UserManager.cpp
g++ -std=c++11 -Wall -Wextra -O2 -c FileManager.cpp
g++ -std=c++11 -Wall -Wextra -O2 -c MapNetwork.cpp
g++ -std=c++11 -Wall -Wextra -O2 -c MenuSystem.cpp
g++ -std=c++11 -Wall -Wextra -O2 -c main.cpp
g++ -o MapNetworkSystem City.o Graph.o UserManager.o FileManager.o MapNetwork.o MenuSystem.o main.o
MapNetworkSystem
```

### 测试
```bash
# 编译测试程序
make test

# 运行测试
./TestProgram
```

## 📖 功能说明

### 1. 用户管理
- ✅ 用户注册
- ✅ 用户登录
- ✅ 密码修改
- ✅ 会话管理

### 2. 城市管理
- ✅ 添加城市
- ✅ 删除城市
- ✅ 查找城市
- ✅ 显示所有城市

### 3. 路线管理
- ✅ 添加路线
- ✅ 删除路线
- ✅ 检查路线
- ✅ 显示路线信息

### 4. 导航功能
- ✅ 最短路径计算
- ✅ 邻近城市查询
- ✅ 路径显示

### 5. 图操作
- ✅ 深度优先遍历（DFS）
- ✅ 广度优先遍历（BFS）
- ✅ 动态切换图类型
- ✅ 网络信息显示

### 6. 数据管理
- ✅ 保存数据
- ✅ 加载数据
- ✅ 创建默认网络
- ✅ 清空网络

## 🎯 核心算法

### 深度优先搜索（DFS）
```cpp
时间复杂度: O(V + E)
空间复杂度: O(V)
实现方式: 使用栈结构
```

### 广度优先搜索（BFS）
```cpp
时间复杂度: O(V + E)
空间复杂度: O(V)
实现方式: 使用队列结构
```

### Dijkstra最短路径
```cpp
时间复杂度: O(E + V log V)
空间复杂度: O(V)
优化方式: 使用优先队列
```

## 🎮 使用示例

### 1. 启动系统
```
./MapNetworkSystem
```

### 2. 注册用户
```
主菜单 -> 1. 用户管理 -> 2. 用户注册
输入用户名: admin
输入密码: admin123
确认密码: admin123
注册成功！
```

### 3. 登录系统
```
主菜单 -> 1. 用户管理 -> 1. 用户登录
输入用户名: admin
输入密码: admin123
登录成功！
```

### 4. 添加城市
```
主菜单 -> 2. 城市管理 -> 1. 添加城市
输入城市ID: 1
输入城市名称: 北京
城市添加成功！
```

### 5. 添加路线
```
主菜单 -> 3. 路线管理 -> 1. 添加路线
选择输入方式: 2. 按城市名称添加
输入起点城市名称: 北京
输入终点城市名称: 上海
输入距离: 1200
路线添加成功！
```

### 6. 查找最短路径
```
主菜单 -> 4. 导航功能 -> 1. 查找最短路径
输入起点城市名称: 北京
输入终点城市名称: 上海

找到最短路径！
总距离: 1200 公里
路径: 北京 -> 上海
```

### 7. 图遍历
```
主菜单 -> 5. 图操作 -> 1. 深度优先遍历
输入起始城市名称: 北京

DFS遍历结果:
北京 -> 上海 -> 杭州 -> 广州 -> 深圳 -> 武汉 -> 成都 -> 南京
```

## 📊 默认网络数据

系统预设了8个城市的网络数据：

```
城市列表:
1. 北京
2. 上海
3. 广州
4. 深圳
5. 杭州
6. 南京
7. 武汉
8. 成都

路线列表:
北京 -> 上海 (1200km)
北京 -> 南京 (1000km)
上海 -> 杭州 (200km)
广州 -> 深圳 (150km)
上海 -> 武汉 (800km)
杭州 -> 广州 (1200km)
武汉 -> 成都 (1100km)
南京 -> 武汉 (500km)
```

## 🧪 测试覆盖

### 功能测试
- ✅ 用户管理（注册、登录、密码修改）
- ✅ 城市管理（增删改查）
- ✅ 路线管理（增删查）
- ✅ 图算法（DFS、BFS、最短路径）
- ✅ 文件操作（保存、加载）

### 边界测试
- ✅ 空图操作
- ✅ 单节点图
- ✅ 不连通图
- ✅ 环路图

### 性能测试
- ✅ 小规模数据（8个城市）
- ✅ 中等规模数据（20个城市）
- ✅ 大规模数据（100个城市）

## 🛠️ 技术栈

- **编程语言**: C++11
- **数据结构**: 邻接矩阵、邻接表
- **算法**: DFS、BFS、Dijkstra
- **设计模式**: 抽象工厂、模板方法
- **构建工具**: Makefile
- **文档格式**: Markdown

## 📈 性能表现

### 小规模数据（8城市，8路线）
- DFS遍历: < 1ms
- BFS遍历: < 1ms
- 最短路径: < 1ms

### 中等规模（20城市，30路线）
- DFS遍历: < 1ms
- BFS遍历: < 1ms
- 最短路径: 2-3ms

### 大规模（100城市，500路线）
- DFS遍历: 5-10ms
- BFS遍历: 5-10ms
- 最短路径: 50-100ms

## 🔧 编译要求

- C++11兼容编译器
- 支持标准C++库
- 推荐GCC 4.8+或VS2013+

## 📚 文档

- [使用手册](使用手册.md) - 详细的使用指南
- [实验报告](实验报告.md) - 完整的实验报告
- [系统架构设计](系统架构设计.md) - 系统架构说明

## 🌟 亮点特性

### 1. 双图结构支持
系统支持邻接矩阵和邻接表两种存储结构，用户可以在运行时动态切换。

### 2. 完整用户系统
相比基本要求，增加了完整的用户管理功能。

### 3. 友好用户界面
清晰的菜单结构，详细的操作提示，美观的信息展示。

### 4. 数据持久化
自动保存用户操作，支持数据导入导出，错误恢复机制。

### 5. 完善测试
单元测试覆盖核心功能，集成测试验证模块协作。

## 🎯 适用场景

- **数据结构学习**: 图算法的实际应用
- **算法实践**: DFS、BFS、Dijkstra算法实现
- **软件开发**: C++面向对象设计示例
- **项目参考**: 完整的软件工程实践

## 📞 支持与反馈

如有问题或建议，欢迎反馈。

## 📄 许可证

本项目仅供学习和研究使用。

## 🙏 致谢

感谢数据结构课程提供的实验机会，感谢指导教师的悉心指导。

---

**版本**: 1.0  
**更新日期**: 2025年  
**作者**: 地图网络图分析系统开发团队